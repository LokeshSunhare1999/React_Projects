/*!
 * Observer 3.11.3
 * https://greensock.com
 * 
 * @license Copyright 2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */

let e,t,n,r,s,o,l,i,a,c,d,u,g,h=()=>e||"undefined"!=typeof window&&(e=window.gsap)&&e.registerPlugin&&e,p=1,v=[],f=[],m=[],x=Date.now,y=(e,t)=>t,b=(e,t)=>~m.indexOf(e)&&m[m.indexOf(e)+1][t],w=e=>!!~d.indexOf(e),M=(e,t,n,r,s)=>e.addEventListener(t,n,{passive:!r,capture:!!s}),X=(e,t,n,r)=>e.removeEventListener(t,n,!!r),Y=()=>u&&u.isPressed||f.cache++,D=(e,t)=>{let n=s=>{if(s||0===s){p&&(r.history.scrollRestoration="manual");let t=u&&u.isPressed;s=n.v=Math.round(s)||(u&&u.iOS?1:0),e(s),n.cacheID=f.cache,t&&y("ss",s)}else(t||f.cache!==n.cacheID||y("ref"))&&(n.cacheID=f.cache,n.v=e());return n.v+n.offset};return n.offset=0,e&&n},_={s:"scrollLeft",p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:D((function(e){return arguments.length?r.scrollTo(e,E.sc()):r.pageXOffset||s.scrollLeft||o.scrollLeft||l.scrollLeft||0}))},E={s:"scrollTop",p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:_,sc:D((function(e){return arguments.length?r.scrollTo(_.sc(),e):r.pageYOffset||s.scrollTop||o.scrollTop||l.scrollTop||0}))},T=t=>e.utils.toArray(t)[0]||("string"==typeof t&&!1!==e.config().nullTargetWarn?console.warn("Element not found:",t):null),P=(t,{s:n,sc:r})=>{w(t)&&(t=s.scrollingElement||o);let l=f.indexOf(t),i=r===E.sc?1:2;!~l&&(l=f.push(t)-1),f[l+i]||t.addEventListener("scroll",Y);let a=f[l+i],c=a||(f[l+i]=D(b(t,n),!0)||(w(t)?r:D((function(e){return arguments.length?t[n]=e:t[n]}))));return c.target=t,a||(c.smooth="smooth"===e.getProperty(t,"scrollBehavior")),c},O=(e,t,n)=>{let r=e,s=e,o=x(),l=o,i=t||50,a=Math.max(500,3*i),c=(e,t)=>{let a=x();t||a-o>i?(s=r,r=e,l=o,o=a):n?r+=e:r=s+(e-s)/(a-l)*(o-l)};return{update:c,reset:()=>{s=r=n?0:r,l=o=0},getVelocity:e=>{let t=l,i=s,d=x();return(e||0===e)&&e!==r&&c(e),o===l||d-l>a?0:(r+(n?i:-i))/((n?d:o)-t)*1e3}}},k=(e,t)=>(t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e),L=e=>{let t=Math.max(...e),n=Math.min(...e);return Math.abs(t)>=Math.abs(n)?t:n},C=()=>{c=e.core.globals().ScrollTrigger,c&&c.core&&(()=>{let e=c.core,t=e.bridge||{},n=e._scrollers,r=e._proxies;n.push(...f),r.push(...m),f=n,m=r,y=(e,n)=>t[e](n)})()},S=c=>(e=c||h(),e&&"undefined"!=typeof document&&document.body&&(r=window,s=document,o=s.documentElement,l=s.body,d=[r,s,o,l],n=e.utils.clamp,a="onpointerenter"in l?"pointer":"mouse",i=A.isTouch=r.matchMedia&&r.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in r||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,g=A.eventTypes=("ontouchstart"in o?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in o?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(()=>p=0,500),C(),t=1),t);_.op=E,f.cache=0;class A{constructor(e){this.init(e)}init(n){t||S(e)||console.warn("Please gsap.registerPlugin(Observer)"),c||C();let{tolerance:d,dragMinimum:h,type:p,target:f,lineHeight:m,debounce:y,preventDefault:b,onStop:D,onStopDelay:A,ignore:G,wheelSpeed:H,event:I,onDragStart:R,onDragEnd:B,onDrag:F,onPress:V,onRelease:W,onRight:q,onLeft:z,onUp:N,onDown:U,onChangeX:j,onChangeY:J,onChange:K,onToggleX:Q,onToggleY:Z,onHover:$,onHoverEnd:ee,onMove:te,ignoreCheck:ne,isNormalizer:re,onGestureStart:se,onGestureEnd:oe,onWheel:le,onEnable:ie,onDisable:ae,onClick:ce,scrollSpeed:de,capture:ue,allowClicks:ge,lockAxis:he,onLockAxis:pe}=n;this.target=f=T(f)||o,this.vars=n,G&&(G=e.utils.toArray(G)),d=d||1e-9,h=h||0,H=H||1,de=de||1,p=p||"wheel,touch,pointer",y=!1!==y,m||(m=parseFloat(r.getComputedStyle(l).lineHeight)||22);let ve,fe,me,xe,ye,be,we,Me=this,Xe=0,Ye=0,De=P(f,_),_e=P(f,E),Ee=De(),Te=_e(),Pe=~p.indexOf("touch")&&!~p.indexOf("pointer")&&"pointerdown"===g[0],Oe=w(f),ke=f.ownerDocument||s,Le=[0,0,0],Ce=[0,0,0],Se=0,Ae=()=>Se=x(),Ge=(e,t)=>(Me.event=e)&&G&&~G.indexOf(e.target)||t&&Pe&&"touch"!==e.pointerType||ne&&ne(e,t),He=()=>{let e=Me.deltaX=L(Le),t=Me.deltaY=L(Ce),n=Math.abs(e)>=d,r=Math.abs(t)>=d;K&&(n||r)&&K(Me,e,t,Le,Ce),n&&(q&&Me.deltaX>0&&q(Me),z&&Me.deltaX<0&&z(Me),j&&j(Me),Q&&Me.deltaX<0!=Xe<0&&Q(Me),Xe=Me.deltaX,Le[0]=Le[1]=Le[2]=0),r&&(U&&Me.deltaY>0&&U(Me),N&&Me.deltaY<0&&N(Me),J&&J(Me),Z&&Me.deltaY<0!=Ye<0&&Z(Me),Ye=Me.deltaY,Ce[0]=Ce[1]=Ce[2]=0),(xe||me)&&(te&&te(Me),me&&(F(Me),me=!1),xe=!1),be&&!(be=!1)&&pe&&pe(Me),ye&&(le(Me),ye=!1),ve=0},Ie=(e,t,n)=>{Le[n]+=e,Ce[n]+=t,Me._vx.update(e),Me._vy.update(t),y?ve||(ve=requestAnimationFrame(He)):He()},Re=(e,t)=>{he&&!we&&(Me.axis=we=Math.abs(e)>Math.abs(t)?"x":"y",be=!0),"y"!==we&&(Le[2]+=e,Me._vx.update(e,!0)),"x"!==we&&(Ce[2]+=t,Me._vy.update(t,!0)),y?ve||(ve=requestAnimationFrame(He)):He()},Be=e=>{if(Ge(e,1))return;let t=(e=k(e,b)).clientX,n=e.clientY,r=t-Me.x,s=n-Me.y,o=Me.isDragging;Me.x=t,Me.y=n,(o||Math.abs(Me.startX-t)>=h||Math.abs(Me.startY-n)>=h)&&(F&&(me=!0),o||(Me.isDragging=!0),Re(r,s),o||R&&R(Me))},Fe=Me.onPress=e=>{Ge(e,1)||(Me.axis=we=null,fe.pause(),Me.isPressed=!0,e=k(e),Xe=Ye=0,Me.startX=Me.x=e.clientX,Me.startY=Me.y=e.clientY,Me._vx.reset(),Me._vy.reset(),M(re?f:ke,g[1],Be,b,!0),Me.deltaX=Me.deltaY=0,V&&V(Me))},Ve=t=>{if(Ge(t,1))return;X(re?f:ke,g[1],Be,!0);let n=Me.isDragging&&(Math.abs(Me.x-Me.startX)>3||Math.abs(Me.y-Me.startY)>3),s=k(t);n||(Me._vx.reset(),Me._vy.reset(),b&&ge&&e.delayedCall(.08,()=>{if(x()-Se>300&&!t.defaultPrevented)if(t.target.click)t.target.click();else if(ke.createEvent){let e=ke.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,r,1,s.screenX,s.screenY,s.clientX,s.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(e)}})),Me.isDragging=Me.isGesturing=Me.isPressed=!1,D&&!re&&fe.restart(!0),B&&n&&B(Me),W&&W(Me,n)},We=e=>e.touches&&e.touches.length>1&&(Me.isGesturing=!0)&&se(e,Me.isDragging),qe=()=>(Me.isGesturing=!1)||oe(Me),ze=e=>{if(Ge(e))return;let t=De(),n=_e();Ie((t-Ee)*de,(n-Te)*de,1),Ee=t,Te=n,D&&fe.restart(!0)},Ne=e=>{if(Ge(e))return;e=k(e,b),le&&(ye=!0);let t=(1===e.deltaMode?m:2===e.deltaMode?r.innerHeight:1)*H;Ie(e.deltaX*t,e.deltaY*t,0),D&&!re&&fe.restart(!0)},Ue=e=>{if(Ge(e))return;let t=e.clientX,n=e.clientY,r=t-Me.x,s=n-Me.y;Me.x=t,Me.y=n,xe=!0,(r||s)&&Re(r,s)},je=e=>{Me.event=e,$(Me)},Je=e=>{Me.event=e,ee(Me)},Ke=e=>Ge(e)||k(e,b)&&ce(Me);fe=Me._dc=e.delayedCall(A||.25,()=>{Me._vx.reset(),Me._vy.reset(),fe.pause(),D&&D(Me)}).pause(),Me.deltaX=Me.deltaY=0,Me._vx=O(0,50,!0),Me._vy=O(0,50,!0),Me.scrollX=De,Me.scrollY=_e,Me.isDragging=Me.isGesturing=Me.isPressed=!1,Me.enable=e=>(Me.isEnabled||(M(Oe?ke:f,"scroll",Y),p.indexOf("scroll")>=0&&M(Oe?ke:f,"scroll",ze,b,ue),p.indexOf("wheel")>=0&&M(f,"wheel",Ne,b,ue),(p.indexOf("touch")>=0&&i||p.indexOf("pointer")>=0)&&(M(f,g[0],Fe,b,ue),M(ke,g[2],Ve),M(ke,g[3],Ve),ge&&M(f,"click",Ae,!1,!0),ce&&M(f,"click",Ke),se&&M(ke,"gesturestart",We),oe&&M(ke,"gestureend",qe),$&&M(f,a+"enter",je),ee&&M(f,a+"leave",Je),te&&M(f,a+"move",Ue)),Me.isEnabled=!0,e&&e.type&&Fe(e),ie&&ie(Me)),Me),Me.disable=()=>{Me.isEnabled&&(v.filter(e=>e!==Me&&w(e.target)).length||X(Oe?ke:f,"scroll",Y),Me.isPressed&&(Me._vx.reset(),Me._vy.reset(),X(re?f:ke,g[1],Be,!0)),X(Oe?ke:f,"scroll",ze,ue),X(f,"wheel",Ne,ue),X(f,g[0],Fe,ue),X(ke,g[2],Ve),X(ke,g[3],Ve),X(f,"click",Ae,!0),X(f,"click",Ke),X(ke,"gesturestart",We),X(ke,"gestureend",qe),X(f,a+"enter",je),X(f,a+"leave",Je),X(f,a+"move",Ue),Me.isEnabled=Me.isPressed=Me.isDragging=!1,ae&&ae(Me))},Me.kill=()=>{Me.disable();let e=v.indexOf(Me);e>=0&&v.splice(e,1),u===Me&&(u=0)},v.push(Me),re&&w(f)&&(u=Me),Me.enable(I)}get velocityX(){return this._vx.getVelocity()}get velocityY(){return this._vy.getVelocity()}}A.version="3.11.3",A.create=e=>new A(e),A.register=S,A.getAll=()=>v.slice(),A.getById=e=>v.filter(t=>t.vars.id===e)[0],h()&&e.registerPlugin(A);export default A;export{A as Observer,b as _getProxyProp,P as _getScrollFunc,T as _getTarget,O as _getVelocityProp,_ as _horizontal,w as _isViewport,m as _proxies,f as _scrollers,E as _vertical};
