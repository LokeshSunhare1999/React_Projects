/*!
 * Flip 3.11.3
 * https://greensock.com
 * 
 * @license Copyright 2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */

let e,t,i,s,a,n,l,r,o,h="transform",p=h+"Origin",d=a=>{let n=a.ownerDocument||a;!(h in a.style)&&"msTransform"in a.style&&(h="msTransform",p=h+"Origin");for(;n.parentNode&&(n=n.parentNode););if(t=window,l=new S,n){e=n,i=n.documentElement,s=n.body,r=e.createElementNS("http://www.w3.org/2000/svg","g"),r.style.transform="none";let t=n.createElement("div"),a=n.createElement("div");s.appendChild(t),t.appendChild(a),t.style.position="static",t.style[h]="translate3d(0,0,1px)",o=a.offsetParent!==t,s.removeChild(t)}return n},c=[],m=[],u=()=>t.pageYOffset||e.scrollTop||i.scrollTop||s.scrollTop||0,f=()=>t.pageXOffset||e.scrollLeft||i.scrollLeft||s.scrollLeft||0,g=e=>e.ownerSVGElement||("svg"===(e.tagName+"").toLowerCase()?e:null),y=e=>"fixed"===t.getComputedStyle(e).position||((e=e.parentNode)&&1===e.nodeType?y(e):void 0),x=(t,i)=>{if(t.parentNode&&(e||d(t))){let s=g(t),l=s?s.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",r=s?i?"rect":"g":"div",o=2!==i?0:100,h=3===i?100:0,p="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",d=e.createElementNS?e.createElementNS(l.replace(/^https/,"http"),r):e.createElement(r);return i&&(s?(n||(n=x(t)),d.setAttribute("width",.01),d.setAttribute("height",.01),d.setAttribute("transform","translate("+o+","+h+")"),n.appendChild(d)):(a||(a=x(t),a.style.cssText=p),d.style.cssText=p+"width:0.1px;height:0.1px;top:"+h+"px;left:"+o+"px",a.appendChild(d))),d}throw"Need document and parent."},b=e=>{let t,i=e.getCTM();return i||(t=e.style[h],e.style[h]="none",e.appendChild(r),i=r.getCTM(),e.removeChild(r),t?e.style[h]=t:e.style.removeProperty(h.replace(/([A-Z])/g,"-$1").toLowerCase())),i||l.clone()},w=(e,i)=>{let s,r,d,u,f,y,w=g(e),v=e===w,C=w?c:m,k=e.parentNode;if(e===t)return e;if(C.length||C.push(x(e,1),x(e,2),x(e,3)),s=w?n:a,w)v?(d=b(e),u=-d.e/d.a,f=-d.f/d.d,r=l):e.getBBox?(d=e.getBBox(),r=e.transform?e.transform.baseVal:{},r=r.numberOfItems?r.numberOfItems>1?(e=>{let t=new S,i=0;for(;i<e.numberOfItems;i++)t.multiply(e.getItem(i).matrix);return t})(r):r.getItem(0).matrix:l,u=r.a*d.x+r.c*d.y,f=r.b*d.x+r.d*d.y):(r=new S,u=f=0),i&&"g"===e.tagName.toLowerCase()&&(u=f=0),(v?w:k).appendChild(s),s.setAttribute("transform","matrix("+r.a+","+r.b+","+r.c+","+r.d+","+(r.e+u)+","+(r.f+f)+")");else{if(u=f=0,o)for(r=e.offsetParent,d=e;d&&(d=d.parentNode)&&d!==r&&d.parentNode;)(t.getComputedStyle(d)[h]+"").length>4&&(u=d.offsetLeft,f=d.offsetTop,d=0);if(y=t.getComputedStyle(e),"absolute"!==y.position&&"fixed"!==y.position)for(r=e.offsetParent;k&&k!==r;)u+=k.scrollLeft||0,f+=k.scrollTop||0,k=k.parentNode;d=s.style,d.top=e.offsetTop-f+"px",d.left=e.offsetLeft-u+"px",d[h]=y[h],d[p]=y[p],d.position="fixed"===y.position?"fixed":"absolute",e.parentNode.appendChild(s)}return s},v=(e,t,i,s,a,n,l)=>(e.a=t,e.b=i,e.c=s,e.d=a,e.e=n,e.f=l,e);class S{constructor(e=1,t=0,i=0,s=1,a=0,n=0){v(this,e,t,i,s,a,n)}inverse(){let{a:e,b:t,c:i,d:s,e:a,f:n}=this,l=e*s-t*i||1e-10;return v(this,s/l,-t/l,-i/l,e/l,(i*n-s*a)/l,-(e*n-t*a)/l)}multiply(e){let{a:t,b:i,c:s,d:a,e:n,f:l}=this,r=e.a,o=e.c,h=e.b,p=e.d,d=e.e,c=e.f;return v(this,r*t+h*s,r*i+h*a,o*t+p*s,o*i+p*a,n+d*t+c*s,l+d*i+c*a)}clone(){return new S(this.a,this.b,this.c,this.d,this.e,this.f)}equals(e){let{a:t,b:i,c:s,d:a,e:n,f:l}=this;return t===e.a&&i===e.b&&s===e.c&&a===e.d&&n===e.e&&l===e.f}apply(e,t={}){let{x:i,y:s}=e,{a:a,b:n,c:l,d:r,e:o,f:h}=this;return t.x=i*a+s*l+o||0,t.y=i*n+s*r+h||0,t}}function C(t,i,a,n){if(!t||!t.parentNode||(e||d(t)).documentElement===t)return new S;let l=(e=>{let t,i;for(;e&&e!==s;)i=e._gsap,i&&i.uncache&&i.get(e,"x"),i&&!i.scaleX&&!i.scaleY&&i.renderTransform&&(i.scaleX=i.scaleY=1e-4,i.renderTransform(1,i),t?t.push(i):t=[i]),e=e.parentNode;return t})(t),r=g(t)?c:m,o=w(t,a),h=r[0].getBoundingClientRect(),p=r[1].getBoundingClientRect(),x=r[2].getBoundingClientRect(),b=o.parentNode,v=!n&&y(t),C=new S((p.left-h.left)/100,(p.top-h.top)/100,(x.left-h.left)/100,(x.top-h.top)/100,h.left+(v?0:f()),h.top+(v?0:u()));if(b.removeChild(o),l)for(h=l.length;h--;)p=l[h],p.scaleX=p.scaleY=0,p.renderTransform(1,p);return i?C.inverse():C}let k,V,E,B,L,_,T,I=1,N=(e,t)=>e.actions.forEach(e=>e.vars[t]&&e.vars[t](e)),X={},P=180/Math.PI,O=Math.PI/180,A={},M={},Y={},R=e=>"string"==typeof e?e.split(" ").join("").split(","):e,z=R("onStart,onUpdate,onComplete,onReverseComplete,onInterrupt"),D=R("transform,transformOrigin,width,height,position,top,left,opacity,zIndex,maxWidth,maxHeight,minWidth,minHeight"),F=e=>k(e)[0]||console.warn("Element not found:",e),H=e=>Math.round(1e4*e)/1e4||0,W=(e,t,i)=>e.forEach(e=>e.classList[i](t)),q={zIndex:1,kill:1,simple:1,spin:1,clearProps:1,targets:1,toggleClass:1,onComplete:1,onUpdate:1,onInterrupt:1,onStart:1,delay:1,repeat:1,repeatDelay:1,yoyo:1,scale:1,fade:1,absolute:1,props:1,onEnter:1,onLeave:1,custom:1,paused:1,nested:1,prune:1,absoluteOnLeave:1},j={zIndex:1,simple:1,clearProps:1,scale:1,absolute:1,fitChild:1,getVars:1,props:1},J=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase(),U=(e,t)=>{let i,s={};for(i in e)t[i]||(s[i]=e[i]);return s},Z={},$=e=>{let t=Z[e]=R(e);return Y[e]=t.concat(D),t},G=(e,t,i=0)=>{let s=e.parentNode,a=1e3*10**i*(t?-1:1),n=t?900*-a:0;for(;e;)n+=a,e=e.previousSibling;return s?n+G(s,t,i+1):n},K=(e,t,i)=>(e.forEach(e=>e.d=G(i?e.element:e.t,t)),e.sort((e,t)=>e.d-t.d),e),Q=(e,t)=>{let i,s,a=e.element.style,n=e.css=e.css||[],l=t.length;for(;l--;)i=t[l],s=a[i]||a.getPropertyValue(i),n.push(s?i:M[i]||(M[i]=J(i)),s);return a},ee=e=>{let t=e.css,i=e.element.style,s=0;for(e.cache.uncache=1;s<t.length;s+=2)t[s+1]?i[t[s]]=t[s+1]:i.removeProperty(t[s])},te=(e,t)=>{e.forEach(e=>e.a.cache.uncache=1),t||e.finalStates.forEach(ee)},ie="paddingTop,paddingRight,paddingBottom,paddingLeft,gridArea,transition".split(","),se=(e,t,i)=>{let s,a,n,{element:l,width:r,height:o,uncache:h,getProp:p}=e,d=l.style,c=4;if("object"!=typeof t&&(t=e),E&&1!==i)return E._abs.push({t:l,b:e,a:e,sd:0}),E._final.push(()=>(e.cache.uncache=1)&&ee(e)),l;for(a="none"===p("display"),e.isVisible&&!a||(a&&(Q(e,["display"]).display=t.display),e.matrix=t.matrix,e.width=r=e.width||t.width,e.height=o=e.height||t.height),Q(e,ie),n=window.getComputedStyle(l);c--;)d[ie[c]]=n[ie[c]];if(d.gridArea="1 / 1 / 1 / 1",d.transition="none",d.position="absolute",d.width=r+"px",d.height=o+"px",d.top||(d.top="0px"),d.left||(d.left="0px"),h)s=new ve(l);else if(s=U(e,A),s.position="absolute",e.simple){let e=l.getBoundingClientRect();s.matrix=new S(1,0,0,1,e.left+f(),e.top+u())}else s.matrix=C(l,!1,!1,!0);return s=pe(s,e,!0),e.x=_(s.x,.01),e.y=_(s.y,.01),l},ae=(e,t)=>(!0!==t&&(t=k(t),e=e.filter(e=>{if(-1!==t.indexOf((e.sd<0?e.b:e.a).element))return!0;e.t._gsap.renderTransform(1),e.b.isVisible&&(e.t.style.width=e.b.width+"px",e.t.style.height=e.b.height+"px")})),e),ne=e=>K(e,!0).forEach(e=>(e.a.isVisible||e.b.isVisible)&&se(e.sd<0?e.b:e.a,e.b,1)),le=(e,t,i,s)=>e instanceof ve?e:e instanceof we?((e,t)=>t&&e.idLookup[le(t).id]||e.elementStates[0])(e,s):new ve("string"==typeof e?F(e)||console.warn(e+" not found"):e,t,i),re=(e,t)=>{let i,s=e.style||e;for(i in t)s[i]=t[i]},oe=e=>e.map(e=>e.element),he=(e,t,i)=>e&&t.length&&i.add(e(oe(t),i,new we(t,0,!0)),0),pe=(e,t,i,s,a,n)=>{let l,r,o,h,p,d,c,{element:m,cache:u,parent:f,x:g,y:y}=e,{width:x,height:b,scaleX:w,scaleY:v,rotation:S,bounds:E}=t,B=n&&m.style.cssText,L=n&&m.getBBox&&m.getAttribute("transform"),T=e,{e:I,f:N}=t.matrix,X=e.bounds.width!==E.width||e.bounds.height!==E.height||e.scaleX!==w||e.scaleY!==v||e.rotation!==S,A=!X&&e.simple&&t.simple&&!a;return A||!f?(w=v=1,S=l=0):(p=(e=>{let t=e._gsap||V.core.getCache(e);return t.gmCache===V.ticker.frame?t.gMatrix:(t.gmCache=V.ticker.frame,t.gMatrix=C(e,!0,!1,!0))})(f),d=p.clone().multiply(t.ctm?t.matrix.clone().multiply(t.ctm):t.matrix),S=H(Math.atan2(d.b,d.a)*P),l=H(Math.atan2(d.c,d.d)*P+S)%360,w=Math.sqrt(d.a**2+d.b**2),v=Math.sqrt(d.c**2+d.d**2)*Math.cos(l*O),a&&(a=k(a)[0],h=V.getProperty(a),c=a.getBBox&&"function"==typeof a.getBBox&&a.getBBox(),T={scaleX:h("scaleX"),scaleY:h("scaleY"),width:c?c.width:Math.ceil(parseFloat(h("width","px"))),height:c?c.height:parseFloat(h("height","px"))}),u.rotation=S+"deg",u.skewX=l+"deg"),i?(w*=x!==T.width&&T.width?x/T.width:1,v*=b!==T.height&&T.height?b/T.height:1,u.scaleX=w,u.scaleY=v):(x=_(x*w/T.scaleX,0),b=_(b*v/T.scaleY,0),m.style.width=x+"px",m.style.height=b+"px"),s&&re(m,t.props),A||!f?(g+=I-e.matrix.e,y+=N-e.matrix.f):X||f!==t.parent?(u.renderTransform(1,u),d=C(a||m,!1,!1,!0),r=p.apply({x:d.e,y:d.f}),o=p.apply({x:I,y:N}),g+=o.x-r.x,y+=o.y-r.y):(p.e=p.f=0,o=p.apply({x:I-e.matrix.e,y:N-e.matrix.f}),g+=o.x,y+=o.y),g=_(g,.02),y=_(y,.02),!n||n instanceof ve?(u.x=g+"px",u.y=y+"px",u.renderTransform(1,u)):(m.style.cssText=B,m.getBBox&&m.setAttribute("transform",L||""),u.uncache=1),n&&(n.x=g,n.y=y,n.rotation=S,n.skewX=l,i?(n.scaleX=w,n.scaleY=v):(n.width=x,n.height=b)),n||u},de=(e,t)=>e instanceof we?e:new we(e,t),ce=(e,t,i)=>{let s=e.idLookup[i],a=e.alt[i];return!a.isVisible||(t.getElementState(a.element)||a).isVisible&&s.isVisible?s:a},me=[],ue="width,height,overflowX,overflowY".split(","),fe=e=>{if(e!==T){let t=L.style,i=L.clientWidth===window.outerWidth,s=L.clientHeight===window.outerHeight,a=4;if(e&&(i||s)){for(;a--;)me[a]=t[ue[a]];i&&(t.width=L.clientWidth+"px",t.overflowY="hidden"),s&&(t.height=L.clientHeight+"px",t.overflowX="hidden"),T=e}else if(T){for(;a--;)me[a]?t[ue[a]]=me[a]:t.removeProperty(J(ue[a]));T=e}}},ge=(e,t,i,s)=>{e instanceof we&&t instanceof we||console.warn("Not a valid state object."),i=i||{};let a,n,l,r,o,h,p,d,c,m,u,f,g,y,{clearProps:x,onEnter:b,onLeave:w,absolute:v,absoluteOnLeave:S,custom:k,delay:B,paused:L,repeat:_,repeatDelay:T,yoyo:I,toggleClass:N,nested:X,zIndex:P,scale:O,fade:A,stagger:M,spin:R,prune:F}=i,H=("props"in i?i:e).props,J=U(i,q),G=V.timeline({delay:B,paused:L,repeat:_,repeatDelay:T,yoyo:I,data:"isFlip"}),ee=J,ie=[],se=[],le=[],re=[],oe=!0===R?1:R||0,de="function"==typeof R?R:()=>oe,me=e.interrupted||t.interrupted,ue=G[1!==s?"to":"from"];for(n in t.idLookup)u=t.alt[n]?ce(t,e,n):t.idLookup[n],o=u.element,m=e.idLookup[n],e.alt[n]&&o===m.element&&(e.alt[n].isVisible||!u.isVisible)&&(m=e.alt[n]),m?(h={t:o,b:m,a:u,sd:m.element===o?0:u.isVisible?1:-1},le.push(h),h.sd&&(h.sd<0&&(h.b=u,h.a=m),me&&Q(h.b,H?Y[H]:D),A&&le.push(h.swap={t:m.element,b:h.b,a:h.a,sd:-h.sd,swap:h})),o._flip=m.element._flip=E?E.timeline:G):u.isVisible&&(le.push({t:o,b:U(u,{isVisible:1}),a:u,sd:0,entering:1}),o._flip=E?E.timeline:G);H&&(Z[H]||$(H)).forEach(e=>J[e]=t=>le[t].a.props[e]),le.finalStates=c=[],f=()=>{for(K(le),fe(!0),r=0;r<le.length;r++)h=le[r],g=h.a,y=h.b,!F||g.isDifferent(y)||h.entering?(o=h.t,X&&!(h.sd<0)&&r&&(g.matrix=C(o,!1,!1,!0)),y.isVisible&&g.isVisible?(h.sd<0?(p=new ve(o,H,e.simple),pe(p,g,O,0,0,p),p.matrix=C(o,!1,!1,!0),p.css=h.b.css,h.a=g=p,A&&(o.style.opacity=me?y.opacity:g.opacity),M&&re.push(o)):h.sd>0&&A&&(o.style.opacity=me?g.opacity-y.opacity:"0"),pe(g,y,O,H)):y.isVisible!==g.isVisible&&(y.isVisible?g.isVisible||(y.css=g.css,se.push(y),le.splice(r--,1),v&&X&&pe(g,y,O,H)):(g.isVisible&&ie.push(g),le.splice(r--,1))),O||(o.style.maxWidth=Math.max(g.width,y.width)+"px",o.style.maxHeight=Math.max(g.height,y.height)+"px",o.style.minWidth=Math.min(g.width,y.width)+"px",o.style.minHeight=Math.min(g.height,y.height)+"px"),X&&N&&o.classList.add(N)):le.splice(r--,1),c.push(g);let t;if(N&&(t=c.map(e=>e.element),X&&t.forEach(e=>e.classList.remove(N))),fe(!1),O?(J.scaleX=e=>le[e].a.scaleX,J.scaleY=e=>le[e].a.scaleY):(J.width=e=>le[e].a.width+"px",J.height=e=>le[e].a.height+"px",J.autoRound=i.autoRound||!1),J.x=e=>le[e].a.x+"px",J.y=e=>le[e].a.y+"px",J.rotation=e=>le[e].a.rotation+(R?360*de(e,d[e],d):0),J.skewX=e=>le[e].a.skewX,d=le.map(e=>e.t),(P||0===P)&&(J.modifiers={zIndex:()=>P},J.zIndex=P,J.immediateRender=!1!==i.immediateRender),A&&(J.opacity=e=>le[e].sd<0?0:le[e].sd>0?le[e].a.opacity:"+=0"),re.length){M=V.utils.distribute(M);let e=d.slice(re.length);J.stagger=(t,i)=>M(~re.indexOf(i)?d.indexOf(le[t].swap.t):t,i,e)}if(z.forEach(e=>i[e]&&G.eventCallback(e,i[e],i[e+"Params"])),k&&d.length)for(n in ee=U(J,q),"scale"in k&&(k.scaleX=k.scaleY=k.scale,delete k.scale),k)a=U(k[n],j),a[n]=J[n],!("duration"in a)&&"duration"in J&&(a.duration=J.duration),a.stagger=J.stagger,ue.call(G,d,a,0),delete ee[n];(d.length||se.length||ie.length)&&(N&&G.add(()=>W(t,N,G._zTime<0?"remove":"add"),0)&&!L&&W(t,N,"add"),d.length&&ue.call(G,d,ee,0)),he(b,ie,G),he(w,se,G);let s=E&&E.timeline;s&&(s.add(G,0),E._final.push(()=>te(le,!x))),l=G.duration(),G.call(()=>{let e=G.time()>=l;e&&!s&&te(le,!x),N&&W(t,N,e?"remove":"add")})},S&&(v=le.filter(e=>!e.sd&&!e.a.isVisible&&e.b.isVisible).map(e=>e.a.element)),E?(v&&E._abs.push(...ae(le,v)),E._run.push(f)):(v&&ne(ae(le,v)),f());let ge=E?E.timeline:G;return ge.revert=()=>xe(ge,1),ge},ye=e=>{e.vars.onInterrupt&&e.vars.onInterrupt.apply(e,e.vars.onInterruptParams||[]),e.getChildren(!0,!1,!0).forEach(ye)},xe=(e,t)=>{if(e&&e.progress()<1&&!e.paused())return t&&(ye(e),t<2&&e.progress(1),e.kill()),!0},be=e=>{let t,i=e.idLookup={},s=e.alt={},a=e.elementStates,n=a.length;for(;n--;)t=a[n],i[t.id]?s[t.id]=t:i[t.id]=t};class we{constructor(e,t,i){if(this.props=t&&t.props,this.simple=!(!t||!t.simple),i)this.targets=oe(e),this.elementStates=e,be(this);else{this.targets=k(e);let i=t&&(!1===t.kill||t.batch&&!t.kill);E&&!i&&E._kill.push(this),this.update(i||!!E)}}update(e){return this.elementStates=this.targets.map(e=>new ve(e,this.props,this.simple)),be(this),this.interrupt(e),this.recordInlineStyles(),this}clear(){return this.targets.length=this.elementStates.length=0,be(this),this}fit(e,t,i){let s,a,n=K(this.elementStates.slice(0),!1,!0),l=(e||this).idLookup,r=0;for(;r<n.length;r++)s=n[r],i&&(s.matrix=C(s.element,!1,!1,!0)),a=l[s.id],a&&pe(s,a,t,!0,0,s),s.matrix=C(s.element,!1,!1,!0);return this}getProperty(e,t){let i=this.getElementState(e)||A;return(t in i?i:i.props||A)[t]}add(e){let t,i,s,a=e.targets.length,n=this.idLookup,l=this.alt;for(;a--;)i=e.elementStates[a],s=n[i.id],s&&(i.element===s.element||l[i.id]&&l[i.id].element===i.element)?(t=this.elementStates.indexOf(i.element===s.element?s:l[i.id]),this.targets.splice(t,1,e.targets[a]),this.elementStates.splice(t,1,i)):(this.targets.push(e.targets[a]),this.elementStates.push(i));return e.interrupted&&(this.interrupted=!0),e.simple||(this.simple=!1),be(this),this}compare(e){let t,i,s,a,n,l,r,o,h=e.idLookup,p=this.idLookup,d=[],c=[],m=[],u=[],f=[],g=e.alt,y=this.alt,x=(e,t,i)=>(e.isVisible!==t.isVisible?e.isVisible?m:u:e.isVisible?c:d).push(i)&&f.push(i),b=(e,t,i)=>f.indexOf(i)<0&&x(e,t,i);for(s in h)n=g[s],l=y[s],t=n?ce(e,this,s):h[s],a=t.element,i=p[s],l?(o=i.isVisible||!l.isVisible&&a===i.element?i:l,r=!n||t.isVisible||n.isVisible||o.element!==n.element?t:n,r.isVisible&&o.isVisible&&r.element!==o.element?((r.isDifferent(o)?c:d).push(r.element,o.element),f.push(r.element,o.element)):x(r,o,r.element),n&&r.element===n.element&&(n=h[s]),b(r.element!==i.element&&n?n:r,i,i.element),b(n&&n.element===l.element?n:r,l,l.element),n&&b(n,l.element===n.element?l:i,n.element)):(i?i.isDifferent(t)?x(t,i,a):d.push(a):m.push(a),n&&b(n,i,n.element));for(s in p)h[s]||(u.push(p[s].element),y[s]&&u.push(y[s].element));return{changed:c,unchanged:d,enter:m,leave:u}}recordInlineStyles(){let e=Y[this.props]||D,t=this.elementStates.length;for(;t--;)Q(this.elementStates[t],e)}interrupt(e){let t=[];this.targets.forEach(i=>{let s=i._flip,a=xe(s,e?0:1);e&&a&&t.indexOf(s)<0&&s.add(()=>this.updateVisibility()),a&&t.push(s)}),!e&&t.length&&this.updateVisibility(),this.interrupted||(this.interrupted=!!t.length)}updateVisibility(){this.elementStates.forEach(e=>{let t=e.element.getBoundingClientRect();e.isVisible=!!(t.width||t.height||t.top||t.left),e.uncache=1})}getElementState(e){return this.elementStates[this.targets.indexOf(F(e))]}makeAbsolute(){return K(this.elementStates.slice(0),!0,!0).map(se)}}class ve{constructor(e,t,i){this.element=e,this.update(t,i)}isDifferent(e){let t=this.bounds,i=e.bounds;return t.top!==i.top||t.left!==i.left||t.width!==i.width||t.height!==i.height||!this.matrix.equals(e.matrix)||this.opacity!==e.opacity||this.props&&e.props&&JSON.stringify(this.props)!==JSON.stringify(e.props)}update(e,t){let i=this.element,s=V.getProperty(i),a=V.core.getCache(i),n=i.getBoundingClientRect(),l=i.getBBox&&"function"==typeof i.getBBox&&"svg"!==i.nodeName.toLowerCase()&&i.getBBox(),r=t?new S(1,0,0,1,n.left+f(),n.top+u()):C(i,!1,!1,!0);this.getProp=s,this.element=i,this.id=(e=>{let t=e.getAttribute("data-flip-id");return t||e.setAttribute("data-flip-id",t="auto-"+I++),t})(i),this.matrix=r,this.cache=a,this.bounds=n,this.isVisible=!!(n.width||n.height||n.left||n.top),this.display=s("display"),this.position=s("position"),this.parent=i.parentNode,this.x=s("x"),this.y=s("y"),this.scaleX=a.scaleX,this.scaleY=a.scaleY,this.rotation=s("rotation"),this.skewX=s("skewX"),this.opacity=s("opacity"),this.width=l?l.width:_(s("width","px"),.04),this.height=l?l.height:_(s("height","px"),.04),e&&((e,t)=>{let i=V.getProperty(e.element,null,"native"),s=e.props={},a=t.length;for(;a--;)s[t[a]]=(i(t[a])+"").trim();s.zIndex&&(s.zIndex=parseFloat(s.zIndex)||0)})(this,Z[e]||$(e)),this.ctm=i.getCTM&&"svg"===i.nodeName.toLowerCase()&&b(i).inverse(),this.simple=t||1===H(r.a)&&!H(r.b)&&!H(r.c)&&1===H(r.d),this.uncache=0}}class Se{constructor(e,t){this.vars=e,this.batch=t,this.states=[],this.timeline=t.timeline}getStateById(e){let t=this.states.length;for(;t--;)if(this.states[t].idLookup[e])return this.states[t]}kill(){this.batch.remove(this)}}class Ce{constructor(e){this.id=e,this.actions=[],this._kill=[],this._final=[],this._abs=[],this._run=[],this.data={},this.state=new we,this.timeline=V.timeline()}add(e){let t=this.actions.filter(t=>t.vars===e);return t.length?t[0]:(t=new Se("function"==typeof e?{animate:e}:e,this),this.actions.push(t),t)}remove(e){let t=this.actions.indexOf(e);return t>=0&&this.actions.splice(t,1),this}getState(e){let t=E,i=B;return E=this,this.state.clear(),this._kill.length=0,this.actions.forEach(t=>{t.vars.getState&&(t.states.length=0,B=t,t.state=t.vars.getState(t)),e&&t.states.forEach(e=>this.state.add(e))}),B=i,E=t,this.killConflicts(),this}animate(){let e,t,i=E,s=this.timeline,a=this.actions.length;for(E=this,s.clear(),this._abs.length=this._final.length=this._run.length=0,this.actions.forEach(e=>{e.vars.animate&&e.vars.animate(e);let t,i,s=e.vars.onEnter,a=e.vars.onLeave,n=e.targets;n&&n.length&&(s||a)&&(t=new we,e.states.forEach(e=>t.add(e)),i=t.compare(ke.getState(n)),i.enter.length&&s&&s(i.enter),i.leave.length&&a&&a(i.leave))}),ne(this._abs),this._run.forEach(e=>e()),t=s.duration(),e=this._final.slice(0),s.add(()=>{t<=s.time()&&(e.forEach(e=>e()),N(this,"onComplete"))}),E=i;a--;)this.actions[a].vars.once&&this.actions[a].kill();return N(this,"onStart"),s.restart(),this}loadState(e){e||(e=()=>0);let t=[];return this.actions.forEach(i=>{if(i.vars.loadState){let s,a=n=>{n&&(i.targets=n),s=t.indexOf(a),~s&&(t.splice(s,1),t.length||e())};t.push(a),i.vars.loadState(a)}}),t.length||e(),this}setState(){return this.actions.forEach(e=>e.targets=e.vars.setState&&e.vars.setState(e)),this}killConflicts(e){return this.state.interrupt(e),this._kill.forEach(t=>t.interrupt(e)),this}run(e,t){return this!==E&&(e||this.getState(t),this.loadState(()=>{this._killed||(this.setState(),this.animate())})),this}clear(e){this.state.clear(),e||(this.actions.length=0)}getStateById(e){let t,i=this.actions.length;for(;i--;)if(t=this.actions[i].getStateById(e),t)return t;return this.state.idLookup[e]&&this.state}kill(){this._killed=1,this.clear(),delete X[this.id]}}class ke{static getState(e,t){let i=de(e,t);return B&&B.states.push(i),t&&t.batch&&ke.batch(t.batch).state.add(i),i}static from(e,t){return"clearProps"in(t=t||{})||(t.clearProps=!0),ge(e,de(t.targets||e.targets,{props:t.props||e.props,simple:t.simple,kill:!!t.kill}),t,-1)}static to(e,t){return ge(e,de(t.targets||e.targets,{props:t.props||e.props,simple:t.simple,kill:!!t.kill}),t,1)}static fromTo(e,t,i){return ge(e,t,i)}static fit(e,t,i){let s=i?U(i,j):{},{absolute:a,scale:n,getVars:l,props:r,runBackwards:o,onComplete:h,simple:p}=i||s,d=i&&i.fitChild&&F(i.fitChild),c=le(t,r,p,e),m=le(e,0,p,c),u=r?Y[r]:D;return r&&re(s,c.props),o&&(Q(m,u),"immediateRender"in s||(s.immediateRender=!0),s.onComplete=function(){ee(m),h&&h.apply(this,arguments)}),a&&se(m,c),s=pe(m,c,n||d,r,d,s.duration||l?s:0),l?s:s.duration?V.to(m.element,s):null}static makeAbsolute(e,t){return(e instanceof we?e:new we(e,t)).makeAbsolute()}static batch(e){return e||(e="default"),X[e]||(X[e]=new Ce(e))}static killFlipsOf(e,t){(e instanceof we?e.targets:k(e)).forEach(e=>e&&xe(e._flip,!1!==t?1:2))}static isFlipping(e){let t=ke.getByTarget(e);return!!t&&t.isActive()}static getByTarget(e){return(F(e)||A)._flip}static getElementState(e,t){return new ve(F(e),t)}static convertCoordinates(e,t,i){let s=C(t,!0,!0).multiply(C(e));return i?s.apply(i):s}static register(e){if(L="undefined"!=typeof document&&document.body,L){V=e,d(L),k=V.utils.toArray;let t=V.utils.snap(.1);_=(e,i)=>t(parseFloat(e)+i)}}}ke.version="3.11.3","undefined"!=typeof window&&window.gsap&&window.gsap.registerPlugin(ke);export default ke;export{ke as Flip};
